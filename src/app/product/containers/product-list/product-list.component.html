<section class="row m-0 p-0 my-2">
  <ng-container *ngIf="products$ | async as products">
    <ng-container *ngIf="preview$ | async; else display">
      <product-item
        *ngFor="let product of products"
        [product]="product"
      ></product-item>
    </ng-container>
    <ng-template #display>
      <product-item
        *ngFor="let product of products"
        [product]="product"
        (addToCart)="onAddToCart($event)"
        (addToWishlist)="onAddToWishlist($event)"
      ></product-item>
    </ng-template>
  </ng-container>
  <ng-template #loading>
    <div class="w-100 d-flex justify-content-center align-items-center mt-5">
      <div class="spinner-border">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </ng-template>
  <div *ngIf="preview$ | async" class="preview font-weight-bold h3 m-0">
    PREVIEW
  </div>
</section>
